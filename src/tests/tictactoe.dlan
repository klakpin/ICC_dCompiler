var player1Name
var player2Name

var board := []

var printBoard := func
print "  1     2     3  \n"
print "     :     :     \n"
print "  ", board[1][1] ,"  :  ", board[1][2], "  :  ", board[1][3] ,"    1\n"
print "_____:_____:_____\n"
print "     :     :     \n"
print "  ", board[2][1] ,"  :  ", board[2][2], "  :  ", board[2][3] ,"    2\n"
print "_____:_____:_____\n"
print "     |     |     \n"
print "  ", board[3][1] ,"  :  ", board[3][2], "  :  ", board[3][3] ,"    3\n"
print "_____:_____:_____\n"
end

var giveWinner := func

    var player1Count := 0;
    var player2Count := 0;

    var nullifyVariables := func
        player1Count := 0
        player2Count := 0
    end

    // Check rows
    for i in 1..3 loop
        for y in 1..3 loop
            if board[i][y] = 1 then player1Count := player1Count + 1 end
            if board[i][y] = 2 then player2Count := player2Count + 1 end
        end
    end

    if player1Count = 3 then return 1 end
    if player2Count = 3 then return 2 end

    nullifyVariables()

    // Check columns
    for y in 1..3 loop
        for i in 1..3 loop
            if board[i][y] = 1 then player1Count := player1Count + 1 end
            if board[i][y] = 2 then player2Count := player2Count + 1 end
        end
    end

    if player1Count = 3 then return 1 end
    if player2Count = 3 then return 2 end

    nullifyVariables()

    // Check diag \
    for i in 1..3 loop
            if board[i][i] = 1 then player1Count := player1Count + 1 end
            if board[i][i] = 2 then player2Count := player2Count + 1 end
    end

    if player1Count = 3 then return 1 end
    if player2Count = 3 then return 2 end

    nullifyVariables()

    // Check diag /
    for i in 1..3 loop
        if board[i][4-i] = 1 then player1Count := player1Count + 1 end
        if board[i][4-i] = 2 then player2Count := player2Count + 1 end
    end

    if player1Count = 3 then return 1 end
    if player2Count = 3 then return 2 end

    return 0
end

for i in 1..3 loop
    board[i] := []
end

for i in 1..3 loop
    for y in 1..3 loop
        board[i][y] := " "
    end
end

print "Enter player 1 name: "
player1Name := @string;

print "\nEnter player 2 name: "
player2Name := @string;

print "\n"

var gameRunning := true

printBoard()

print "Winner is player ", giveWinner()